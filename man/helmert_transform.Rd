% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helmert_trans.R
\name{helmert_transform}
\alias{helmert_transform}
\title{Transform compositional data using Helmert matrix}
\usage{
helmert_transform(data, items = dplyr::everything(), append = FALSE)
}
\arguments{
\item{data}{A data frame or matrix containing the compositional data.}

\item{items}{<\code{\link[dplyr:dplyr_tidy_select]{tidy-select}}> Columns representing the
components of the composition. Default is \code{\link[tidyselect:everything]{tidyselect::everything()}}, which selects all columns.
Must select at least 3 columns.}

\item{append}{(Optional) A logical value indicating whether the transformed data should be appended to the original data frame.
Default is \code{FALSE}.}
}
\value{
A data frame containing the Helmert-transformed coordinates, named
\code{x1}, \code{x2}, ..., \code{x(n-1)}, where \code{n} is the number of items. If \code{append = TRUE},
these columns are added to the input \code{data}.
}
\description{
Transform n-dimension compositional data (all values sum to 1) into an (n-1)-dimensional Euclidean space
using the Helmert matrix. This dimension reduction is the geometric basis for
plotting points within the simplex.
}
\examples{
# Example 1: Transform a matrix (all columns)
comp_mat <- matrix(c(0.5, 0.3, 0.2,
                     0.4, 0.4, 0.2,
                     0.6, 0.2, 0.2),
                   ncol = 3, byrow = TRUE)
helmert_transform(comp_mat)

# Example 2: Transform specific columns in a data frame
df <- data.frame(
  electorate = c("A", "B", "C"),
  ALP = c(0.5, 0.4, 0.6),
  LNP = c(0.3, 0.4, 0.2),
  Other = c(0.2, 0.2, 0.2)
)
helmert_transform(df, items = c(ALP, LNP, Other))

}
